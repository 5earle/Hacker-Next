{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport fetch from \"isomorphic-fetch\";\nimport Error from \"next/error\";\nimport Layout from \"../components/Layout\";\nimport CommentList from \"../components/CommentList\";\n/*\n*LOGIC\n* get id from query param\n* make request for a single story\n* display and pass story comments to CommentList component\n */\n\nvar Story = /*#__PURE__*/function (_React$Component) {\n  _inherits(Story, _React$Component);\n\n  var _super = _createSuper(Story);\n\n  function Story() {\n    _classCallCheck(this, Story);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Story, [{\n    key: \"render\",\n    value: function render() {\n      /*destruct*/\n      var story = this.props.story;\n      /*show error page*/\n\n      if (!story) {\n        return __jsx(Error, {\n          statusCode: 503\n        });\n      }\n\n      return __jsx(Layout, {\n        title: story.title,\n        backButton: true\n      }, __jsx(\"main\", {\n        className: \"jsx-2332383615\"\n      }, __jsx(\"h1\", {\n        className: \"jsx-2332383615\" + \" \" + \"story-title\"\n      }, __jsx(\"a\", {\n        href: story.url,\n        className: \"jsx-2332383615\"\n      }, story.title)), __jsx(\"div\", {\n        className: \"jsx-2332383615\" + \" \" + \"story-details\"\n      }, __jsx(\"strong\", {\n        className: \"jsx-2332383615\"\n      }, story.points, \" points\"), __jsx(\"strong\", {\n        className: \"jsx-2332383615\"\n      }, story.comments_count, \" comments\"), __jsx(\"strong\", {\n        className: \"jsx-2332383615\"\n      }, story.time_ago)), story.comments.length > 0 ? __jsx(CommentList, {\n        comments: story.comments\n      }) : __jsx(\"div\", {\n        className: \"jsx-2332383615\"\n      }, \"No comments for this story\")), __jsx(_JSXStyle, {\n        id: \"2332383615\"\n      }, \"main.jsx-2332383615{padding:1em;}.story-title.jsx-2332383615{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}.story-title.jsx-2332383615 a.jsx-2332383615{color:#333;-webkit-text-decoration:none;text-decoration:none;}.story-title.jsx-2332383615 a.jsx-2332383615:hover{-webkit-text-decoration:underline;text-decoration:underline;}.story-details.jsx-2332383615{font-size:0.8rem;padding-bottom:1em;border-bottom:1px solid rgba(0,0,0,0.1);margin-bottom:1em;}.story-details.jsx-2332383615 strong.jsx-2332383615{margin-right:1em;}.story-details.jsx-2332383615 a.jsx-2332383615{color:#f60;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlc6XFwxRnJvbnRFbmRcXHJlYWN0IHN0dWZmXFxbRnJlZUNvdXJzZVNpdGUuY29tXSBVZGVteSAtIFVuaXZlcnNhbCBSZWFjdCB3aXRoIE5leHQuanMgLSBUaGUgVWx0aW1hdGUgR3VpZGVcXDMuIFByb2plY3QgMiAtIEhhY2tlciBOZXdzIFByb2dyZXNzaXZlIFdlYiBBcHBcXGZpbmFsLWNvZGUtaGFja2VyLW5leHRcXHBhZ2VzXFxzdG9yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrRW9CLEFBR3lCLEFBR0ssQUFNTixBQUllLEFBR1QsQUFNQSxBQUdOLFdBZlUsQUFnQnZCLENBekJBLEtBR1csQUFhVSxBQU1yQixTQWxCa0IsVUFhMkIsTUFadEIsa0JBUXZCLENBSEEsRUFKQSxhQVlvQixrQkFDcEIiLCJmaWxlIjoiVzpcXDFGcm9udEVuZFxccmVhY3Qgc3R1ZmZcXFtGcmVlQ291cnNlU2l0ZS5jb21dIFVkZW15IC0gVW5pdmVyc2FsIFJlYWN0IHdpdGggTmV4dC5qcyAtIFRoZSBVbHRpbWF0ZSBHdWlkZVxcMy4gUHJvamVjdCAyIC0gSGFja2VyIE5ld3MgUHJvZ3Jlc3NpdmUgV2ViIEFwcFxcZmluYWwtY29kZS1oYWNrZXItbmV4dFxccGFnZXNcXHN0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoIGZyb20gXCJpc29tb3JwaGljLWZldGNoXCI7XG5pbXBvcnQgRXJyb3IgZnJvbSBcIm5leHQvZXJyb3JcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5pbXBvcnQgQ29tbWVudExpc3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29tbWVudExpc3RcIjtcblxuLypcbipMT0dJQ1xuKiBnZXQgaWQgZnJvbSBxdWVyeSBwYXJhbVxuKiBtYWtlIHJlcXVlc3QgZm9yIGEgc2luZ2xlIHN0b3J5XG4qIGRpc3BsYXkgYW5kIHBhc3Mgc3RvcnkgY29tbWVudHMgdG8gQ29tbWVudExpc3QgY29tcG9uZW50XG4gKi9cblxuY2xhc3MgU3RvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKlxuICAqIGdldEludGlhbFByb3BzIGNhbiBwcm92aWRlIHVzIHdpdGggc29tZSBpbXBvcnRhbnQgaW5mb3JtYXRpbyBsaWtlXG4gICogcmVxIHRoYXQgd2VyZSBtYWtpbmcsIHJlcyBmcm9tIHRoZSBzZXJ2ZXIsIHF1ZXJ5IHBhcmFtID9pZD1cbiAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyh7IHJlcSwgcmVzLCBxdWVyeSB9KSB7XG4gICAgbGV0IHN0b3J5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yeUlkID0gcXVlcnkuaWQ7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwczovL25vZGUtaG5hcGkuaGVyb2t1YXBwLmNvbS9pdGVtLyR7c3RvcnlJZH1gXG4gICAgICApO1xuICAgICAgc3RvcnkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICBzdG9yeSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3RvcnkgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKmRlc3RydWN0Ki9cbiAgICBjb25zdCB7IHN0b3J5IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgLypzaG93IGVycm9yIHBhZ2UqL1xuICAgIGlmICghc3RvcnkpIHtcbiAgICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17NTAzfSAvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dCB0aXRsZT17c3RvcnkudGl0bGV9IGJhY2tCdXR0b249e3RydWV9PlxuXG4gICAgICAgIDxtYWluPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJzdG9yeS10aXRsZVwiPlxuICAgICAgICAgICAgPGEgaHJlZj17c3RvcnkudXJsfT57c3RvcnkudGl0bGV9PC9hPlxuICAgICAgICAgIDwvaDE+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LWRldGFpbHNcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+e3N0b3J5LnBvaW50c30gcG9pbnRzPC9zdHJvbmc+XG4gICAgICAgICAgICA8c3Ryb25nPntzdG9yeS5jb21tZW50c19jb3VudH0gY29tbWVudHM8L3N0cm9uZz5cbiAgICAgICAgICAgIDxzdHJvbmc+e3N0b3J5LnRpbWVfYWdvfTwvc3Ryb25nPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge3N0b3J5LmNvbW1lbnRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICA8Q29tbWVudExpc3QgY29tbWVudHM9e3N0b3J5LmNvbW1lbnRzfSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2Pk5vIGNvbW1lbnRzIGZvciB0aGlzIHN0b3J5PC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICA8L21haW4+XG5cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIG1haW4ge1xuICAgICAgICAgICAgcGFkZGluZzogMWVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc3RvcnktdGl0bGUge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBmb250LXdlaWdodDogMzAwO1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDAuNWVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuc3RvcnktdGl0bGUgYSB7XG4gICAgICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnN0b3J5LXRpdGxlIGE6aG92ZXIge1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zdG9yeS1kZXRhaWxzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDFlbTtcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxZW07XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zdG9yeS1kZXRhaWxzIHN0cm9uZyB7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDFlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnN0b3J5LWRldGFpbHMgYSB7XG4gICAgICAgICAgICBjb2xvcjogI2Y2MDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3Rvcnk7XG4iXX0= */\\n/*@ sourceURL=W:\\\\\\\\1FrontEnd\\\\\\\\react stuff\\\\\\\\[FreeCourseSite.com] Udemy - Universal React with Next.js - The Ultimate Guide\\\\\\\\3. Project 2 - Hacker News Progressive Web App\\\\\\\\final-code-hacker-next\\\\\\\\pages\\\\\\\\story.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n\n    /*\n    * getIntialProps can provide us with some important informatio like\n    * req that were making, res from the server, query param ?id=\n    */\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var req, res, query, story, storyId, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req, res = _ref.res, query = _ref.query;\n                _context.prev = 1;\n                storyId = query.id;\n                _context.next = 5;\n                return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                story = _context.sent;\n                _context.next = 15;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n                story = null;\n\n              case 15:\n                return _context.abrupt(\"return\", {\n                  story: story\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 11]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Story;\n}(React.Component);\n\nexport default Story;","map":{"version":3,"sources":["W:/1FrontEnd/react stuff/[FreeCourseSite.com] Udemy - Universal React with Next.js - The Ultimate Guide/3. Project 2 - Hacker News Progressive Web App/final-code-hacker-next/pages/story.js"],"names":["fetch","Error","Layout","CommentList","Story","story","props","title","url","points","comments_count","time_ago","comments","length","req","res","query","storyId","id","response","json","console","log","React","Component"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AAEA;;;;;;;IAOMC,K;;;;;;;;;;;;;6BAuBK;AACP;AADO,UAECC,KAFD,GAEW,KAAKC,KAFhB,CAECD,KAFD;AAIP;;AACA,UAAI,CAACA,KAAL,EAAY;AACV,eAAO,MAAC,KAAD;AAAO,UAAA,UAAU,EAAE;AAAnB,UAAP;AACD;;AAED,aACE,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAEA,KAAK,CAACE,KAArB;AAA4B,QAAA,UAAU,EAAE;AAAxC,SAEE;AAAA;AAAA,SACE;AAAA,4CAAc;AAAd,SACE;AAAG,QAAA,IAAI,EAAEF,KAAK,CAACG,GAAf;AAAA;AAAA,SAAqBH,KAAK,CAACE,KAA3B,CADF,CADF,EAKE;AAAA,4CAAe;AAAf,SACE;AAAA;AAAA,SAASF,KAAK,CAACI,MAAf,YADF,EAEE;AAAA;AAAA,SAASJ,KAAK,CAACK,cAAf,cAFF,EAGE;AAAA;AAAA,SAASL,KAAK,CAACM,QAAf,CAHF,CALF,EAWGN,KAAK,CAACO,QAAN,CAAeC,MAAf,GAAwB,CAAxB,GACC,MAAC,WAAD;AAAa,QAAA,QAAQ,EAAER,KAAK,CAACO;AAA7B,QADD,GAGC;AAAA;AAAA,sCAdJ,CAFF;AAAA;AAAA,o9JADF;AAsDD;;;;AArFD;;;;;;;;;;;AAI+BE,gBAAAA,G,QAAAA,G,EAAKC,G,QAAAA,G,EAAKC,K,QAAAA,K;;AAG/BC,gBAAAA,O,GAAUD,KAAK,CAACE,E;;uBAEClB,KAAK,iDACeiB,OADf,E;;;AAAtBE,gBAAAA,Q;;uBAGQA,QAAQ,CAACC,IAAT,E;;;AAAdf,gBAAAA,K;;;;;;;AAGAgB,gBAAAA,OAAO,CAACC,GAAR;AACAjB,gBAAAA,KAAK,GAAG,IAAR;;;iDAGK;AAAEA,kBAAAA,KAAK,EAALA;AAAF,iB;;;;;;;;;;;;;;;;;;;EApBSkB,KAAK,CAACC,S;;AAyF1B,eAAepB,KAAf","sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport Error from \"next/error\";\nimport Layout from \"../components/Layout\";\nimport CommentList from \"../components/CommentList\";\n\n/*\n*LOGIC\n* get id from query param\n* make request for a single story\n* display and pass story comments to CommentList component\n */\n\nclass Story extends React.Component {\n  /*\n  * getIntialProps can provide us with some important informatio like\n  * req that were making, res from the server, query param ?id=\n  */\n  static async getInitialProps({ req, res, query }) {\n    let story;\n    try {\n      const storyId = query.id;\n\n      const response = await fetch(\n        `https://node-hnapi.herokuapp.com/item/${storyId}`\n      );\n      story = await response.json();\n\n    } catch (err) {\n      console.log(err);\n      story = null;\n    }\n\n    return { story };\n  }\n\n  render() {\n    /*destruct*/\n    const { story } = this.props;\n\n    /*show error page*/\n    if (!story) {\n      return <Error statusCode={503} />;\n    }\n\n    return (\n      <Layout title={story.title} backButton={true}>\n\n        <main>\n          <h1 className=\"story-title\">\n            <a href={story.url}>{story.title}</a>\n          </h1>\n\n          <div className=\"story-details\">\n            <strong>{story.points} points</strong>\n            <strong>{story.comments_count} comments</strong>\n            <strong>{story.time_ago}</strong>\n          </div>\n\n          {story.comments.length > 0 ? (\n            <CommentList comments={story.comments} />\n          ) : (\n            <div>No comments for this story</div>\n          )}\n\n        </main>\n\n        <style jsx>{`\n          main {\n            padding: 1em;\n          }\n          .story-title {\n            font-size: 1.2rem;\n            margin: 0;\n            font-weight: 300;\n            padding-bottom: 0.5em;\n          }\n          .story-title a {\n            color: #333;\n            text-decoration: none;\n          }\n          .story-title a:hover {\n            text-decoration: underline;\n          }\n          .story-details {\n            font-size: 0.8rem;\n            padding-bottom: 1em;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            margin-bottom: 1em;\n          }\n          .story-details strong {\n            margin-right: 1em;\n          }\n          .story-details a {\n            color: #f60;\n          }\n        `}</style>\n      </Layout>\n    );\n  }\n}\n\nexport default Story;\n"]},"metadata":{},"sourceType":"module"}